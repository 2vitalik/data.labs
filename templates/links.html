{% extends 'base.html' %}
{% load custom_filters %}

{% block css %}
<style>
    small {
        margin-top: 2px;
        display: flex;
        flex-direction: column;
        line-height: 1.2;
        color: #bbb;
    }
</style>
{% endblock %}

{% block content %}
    <h1 class="h3 mb-3">
        –ü–æ—Ç—ñ–∫ {{ prefix }}
        {% if mode == 'view' %}
            (<a href="{% url 'links-edit' key %}">—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏</a>)
        {% else %}
            <span class="text-danger">[—Ä–µ–∂–∏–º —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è]</span>
        {% endif %}
    </h1>

    {% for subject, subject_data in subjects.items %}
        <h2 class="h5 mb-3 pt-3">
            üìö <b>{{ subject }}</b>
            ‚Äî {{ subjects_names|get:subject }}
        </h2>

        <div style="margin-left: 10px;">
        {% for category, category_data in subject_data.items %}
            <h3 class="h6">
                {% if category == 'eng' %}
                    üá¨üáß –ê–Ω–≥–ª—ñ–π—Å—å–∫–∏–π –ø–æ—Ç—ñ–∫
                {% elif category == 'ukr' %}
                    üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –ø–æ—Ç—ñ–∫
                {% elif category == 'core' or category == 'alt' %}

                {% else %}
                    {{ category }}
                {% endif %}
            </h3>

            <table class="table table-bordered mb-4">
                <tbody>
                {% for data in category_data %}
                    <tr>
                        <td style="width: 40%;">
                            <div class="key">{{ data.title }}</div>
                            <small>{{ data.teacher|safe }}</small>
                        </td>
                        <td class="align-middle">{{ data.links }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endfor %}
        </div>
    {% endfor %}
{% endblock %}
